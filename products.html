<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>محصولات</title>
<style>
body{
    font-family:tahoma;
    background:#fafafa;
    direction:rtl;
}

#add-btn {
    display:block;
    margin:20px auto;
    text-align:center;
}

#add-btn button {
    padding:10px 20px;
    font-size:16px;
    cursor:pointer;
}

#products{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
}

.card{
    width:220px;
    margin:15px;
    padding:10px;
    background:white;
    border-radius:10px;
    text-align:center;
    box-shadow:0 0 8px #ccc;
}

.card img{
    width:100%;
    height:150px;
    object-fit:cover;
    border-radius:10px;
}
</style>
</head>
<body>

<h2 style="text-align:center">لیست محصولات</h2>

<!-- دکمه اضافه کردن محصول -->
<div id="add-btn">
    <a href="add_product.html"><button>اضافه کردن محصول</button></a>
</div>

<div id="products"></div>

<script>
fetch("get_products.php")
.then(res => res.json())
.then(data => {
    if(!data.status){
        document.getElementById("products").innerHTML = "خطا در دریافت اطلاعات";
        return;
    }

    let html = "";

    data.products.forEach(p => {
        html += `
        <div class="card">
            <img src="images/${p.image}" alt="${p.title}">
            <h4>${p.title}</h4>
            <p>${p.price} تومان</p>
        </div>
        `;
    });

    document.getElementById('products').innerHTML = html;
});
</script>

</body>
</html>
